{% extends "base.html" %}
{% load static %}
{% block title %}Relatório de Gastos Mensais por Categoria{% endblock %}
{% block style %}
<link href="{% static 'expenses/css/report-expense.css' %}" rel="stylesheet"/> 

<link href="{% static 'expenses/css/modal.css' %}" rel="stylesheet"/> 
{% endblock %}
{% block content %}       
<div class="breadcamp"><a href="{% url 'expenses:report' %}">Todos os Relatórios</a>/Relatório de Gastos Mensais por Categoria</div>
<div class="content-report">
  <form action="{% url 'expenses:list_expenses_by_period' %}" method="POST">
    {% csrf_token %}
    {{ form.as_p }}
    <input type="submit" class="btn btn-gray sub white small " value="Enviar">
  </form>
  
  

  {% if begin %}

  <div class="list-expenses">
    <div class="description-top">
        <p>Período: de {{ begin|date:"d/m/Y" }} a {{ end|date:"d/m/Y" }}</p>
    </div>
    <div class="description-itens">
      <p class="col-1">Data</p>
      <p class="col-3">Descrição</p>
      <p class="col-1">Categoria</p>
      <p class="col-2">Forma Pagamento</p>
      <p class="col-1">Valor</p>
  </div>
  {% for item in list_item_expenses %}
  <div class="line-item">
      <p class="col-1">{{ item.date|date:"d/m/Y" }}</p>
      <p class="col-3">{{ item.description }}</p>
      <p class="col-1">{{ item.category.description|title }}</p>
      <p class="col-2">{{ item.payment.description|title }}</p>
      <p class="col-1">R$ {{ item.value|floatformat:2 }}</p>
      
  </div>
  {% endfor %}
</div>

  {% endif %}
</div>
  {% endblock %}

